<!DOCTYPE html>
<html>
  <head>
    <title>TODO lips</title>
    <meta name="description" content="Example app for LIPS programming language - Simple Lisp in JavaScript"/>
    <script src="../dist/lips.js"></script>
    <link rel="shortcut icon" href="favicon.ico">
    <script src="https://unpkg.com/handlebars/dist/handlebars.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script src="https://unpkg.com/director@1.2.8/build/director.min.js"></script>
    <link rel="stylesheet" href="https://todomvc.com/examples/jquery/dist/base.css">
    <link rel="stylesheet" href="https://todomvc.com/examples/jquery/dist/index.css">
    <link rel="stylesheet" href="https://todomvc.com/examples/jquery/dist/app.css">
    <script id="todo-template" type="text/x-handlebars-template">
      {{#this}}
      <li {{#if completed}}class="completed"{{/if}} data-id="{{id}}">
        <div class="view">
          <input class="toggle" type="checkbox" {{#if completed}}checked{{/if}}>
          <label>{{title}}</label>
          <button class="destroy"></button>
        </div>
        <input class="edit" value="{{title}}">
      </li>
    {{/this}}
    </script>
    <script id="footer-template" type="text/x-handlebars-template">
      <span class="todo-count"><strong>{{activeTodoCount}}</strong> {{activeTodoWord}} left</span>
      <ul class="filters">
        <li>
          <a {{#eq filter 'all'}}class="selected"{{/eq}} href="#/all">All</a>
        </li>
        <li>
          <a {{#eq filter 'active'}}class="selected"{{/eq}}href="#/active">Active</a>
        </li>
        <li>
          <a {{#eq filter 'completed'}}class="selected"{{/eq}}href="#/completed">Completed</a>
        </li>
      </ul>
      {{#if completedTodos}}<button class="clear-completed">Clear completed</button>{{/if}}
    </script>
    <script>
     // we create helper in JS because lips don't expose this context
     Handlebars.registerHelper('eq', function (a, b, options) {
         return a === b ? options.fn(this) : options.inverse(this);
     });
    </script>
    <style>
     .learn-bar .learn {
         height: 100%;
     }
    </style>
  </head>
  <body class="learn-bar">
    <aside class="learn">
      <header><h3>LIPS TODO example</h3></header>
      <p>source:
        <ul>
          <li><a href="https://github.com/jcubic/lips/blob/master/todo.html">todo.html</a></li>
          <li><a href="https://github.com/jcubic/lips/blob/master/todo.scm">todo.scm</a></li>
        </ul>
      </p>
      <hr/>
    </aside>
    <section class="todoapp">
      <header class="header">
        <h1>todos</h1>
        <input class="new-todo" placeholder="What needs to be done?" autofocus>
      </header>
      <section class="main" style="display: none">
        <input id="toggle-all" class="toggle-all" type="checkbox">
        <label for="toggle-all">Mark all as complete</label>
        <ul class="todo-list"></ul>
      </section>
      <footer class="footer" style="display: none"></footer>
    </section>
    <footer class="info">
      <p>Double-click to edit a todo</p>
      <p>Author <a href="https://jcubic.pl/jakub-jankiewicz">Jakub T. Jankiewicz</a> based on jQuery <a href="http://todomvc.com">TodoMVC</a> by <a href="http://sindresorhus.com">Sindre Sorhus</a></p>
    </footer>
    <script type="text/x-scheme" src="todo.scm" bootstrap></script>
  </body>
</html>
